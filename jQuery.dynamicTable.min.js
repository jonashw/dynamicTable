(function(b){b.fn.dynamicTable=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.dynamicTable")}}};var a={init:function(c){var d=b.extend({case_sensitive:true},c);return this.each(function(){var o=b(this);var k=o.find("thead");if(!k.length){k=o.find("tr").first()}var h=o.find("tbody");var e=k.find("th");var p=h.find("tr");var i=[];var n=[];var l=o.data();var f=!o.hasClass("dynamicTable-notSearchable");var m=!o.hasClass("dynamicTable-notOrderable");k.find("th").each(function(q){var r=b(this);if(m&&!r.hasClass("dynamicTable-notOrderable")){i.push(q)}if(f&&!r.hasClass("dynamicTable-notSearchable")){n.push(q)}});var j=b("<td></td>").text("No matches").attr("colspan",e.length).wrap(b("<tr></tr>"));var g={table:o,tbody:h,rows:p,ths:e,orderableColumns:i,searchableColumns:n,settings:d,noResults:j};o.data("dynamicTable",g)})},getOrderableTHs:function(){var e=b(this).data("dynamicTable");var c=b();for(var d in e.orderableColumns){c=c.add(b(e.ths.get(e.orderableColumns[d])))}return c},getSearchableTHs:function(){var e=b(this).data("dynamicTable");var c=b();for(var d in e.searchableColumns){c=c.add(b(e.ths.get(orderableColumns[d])))}return c},search:function(d){var e=b(this).data("dynamicTable");var d=e.settings.case_sensitive?new RegExp(d):new RegExp(d,"i");var f=[];var g=[];e.noResults.detach();e.rows.each(function(){var n=b(this);var j=[];var h=false;var m=n.find("td");for(var l in e.searchableColumns){var o=b(m.get(e.searchableColumns[l]));var k=o.data();j.push(o.text());if("dynamicTableOrderValue" in k){j.push(k.dynamicTableOrderValue)}}for(var l in j){if(j[l].search(d)>=0){f.push(n);h=true;break}}if(!h){g.push(n)}});for(var c in g){g[c].hide()}for(var c in f){f[c].show()}if(!f.length){e.noResults.appendTo(e.tbody)}},order:function(g,j){var h=b(this).data("dynamicTable");if(typeof j==="undefined"){j=true}var f=false;for(var e in h.orderableColumns){if(h.orderableColumns[e]==g){f=true;break}}if(!f){return}var c=[];h.rows.each(function(){var l=b(this);var m=b(l.find("td").get(g));var i=m.data();if("dynamicTableOrderValue" in i){k=i.dynamicTableOrderValue}else{var k=m.text()}c.push({tr:l,value:k})});c.sort(function(k,i){var k=isNaN(k.value)?k.value:parseFloat(k.value);var i=isNaN(i.value)?i.value:parseFloat(i.value);if(k>i){return 1}if(k<i){return -1}return 0});for(var e in c){var d=c[e];if(j){d.tr.appendTo(h.tbody)}else{d.tr.prependTo(h.tbody)}}if("orderedTH" in h){h.orderedTH.trigger("disorder")}h.orderedTH=b(h.ths.get(g)).trigger("order",!!j);b(this).data("dynamicTable",h)}}})(jQuery);